@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

:root{
  /* Layout */
  --app-max: 440px;
  --gutter: 12px;
  --radius-xl: 22px;
  --radius-lg: 18px;
  --radius-md: 14px;
  --radius-sm: 12px;
  --tabbar-h: 72px;

  /* Colors (light) */
  --bg0: #ffffff;
  --bg1: #c8e2ff;
  --text: #0f1115;
  --muted: rgba(15,17,21,0.62);
  --line: rgba(15,17,21,0.08);
  --shadow: rgba(10, 20, 40, 0.10);

  --surface: rgba(255,255,255,0.86);
  --surface-strong: rgba(255,255,255,0.96);
  --surface-dim: rgba(255,255,255,0.70);

  --accent: #ff2d55;
  --accent-2: #7c3aed;

  /* Controls */
  --control: rgba(255,255,255,0.92);
  --control-2: rgba(255,255,255,0.76);
  --control-shadow: 0 10px 30px var(--shadow);

  /* Cards */
  --card: rgba(255,255,255,0.96);
  --card-shadow: 0 14px 40px rgba(10,20,40,0.10);
  --card-image-bg: rgba(15,17,21,0.04);

  /* Pills */
  --pill: rgba(255,255,255,0.86);
  --pill-active: rgba(124,58,237,0.12);

  /* Motion */
  --t-fast: 140ms;
  --t: 220ms;
  --ease: cubic-bezier(.2,.9,.3,1);
}

.theme-light{color-scheme: light;}

.theme-dark{
  color-scheme: dark;
  --bg0: #060317;
  --bg1: #00040f;
  --text: rgba(246,247,251,0.96);
  --muted: rgba(246,247,251,0.66);
  --line: rgba(255,255,255,0.10);
  --shadow: rgba(0,0,0,0.60);

  --surface: rgba(2,10,32,0.78);
  --surface-strong: rgba(2,10,32,0.92);
  --surface-dim: rgba(2,10,32,0.62);

  --control: rgba(255,255,255,0.06);
  --control-2: rgba(255,255,255,0.05);

  --card: rgba(2,10,32,0.92);
  --card-shadow: 0 22px 50px rgba(0,0,0,0.60);
  --card-image-bg: rgba(255,255,255,0.04);

  --pill: rgba(255,255,255,0.04);
  --pill-active: rgba(124,58,237,0.22);
}

/* Base reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: linear-gradient(var(--bg0), var(--bg1));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a{color:inherit}
button,input{font:inherit;color:inherit}

/* While loading: hide app to avoid flash */
body.loading .app{visibility:hidden;opacity:0}
body.loading .auth-modal{display:none !important}

/* App shell */
.app{
  max-width: var(--app-max);
  margin: 0 auto;
  min-height: 100dvh;
  padding: 10px var(--gutter) calc(var(--tabbar-h) + 22px + env(safe-area-inset-bottom, 0px));
  display:flex;
  flex-direction:column;
  gap: 10px;
  position:relative;
}

/* Loader */
.loader{
  position:fixed;
  inset:0;
  z-index:99999;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#000;
  overflow:hidden;
}

.loader::before{
  content:'';
  position:absolute;
  inset:0;
  background: linear-gradient(90deg,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,0.35) 40%,
    rgba(255,255,255,0) 80%
  );
  transform: translateX(-120%);
  animation: loaderShine 3s linear forwards;
  mix-blend-mode: screen;
  pointer-events:none;
}

.loader-inner{position:relative;z-index:2}
.loader-logo{width:min(72vw,720px);height:auto;display:block;filter:drop-shadow(0 20px 40px rgba(0,0,0,0.55));animation:logoPulse 3s ease-in-out both}

.loader.loader-hide{transition:opacity 360ms ease, transform 360ms ease;opacity:0;transform:translateY(-8px)}

@keyframes loaderShine{to{transform:translateX(120%);opacity:1}}
@keyframes logoPulse{0%{transform:scale(0.98)}50%{transform:scale(1.04)}100%{transform:scale(0.98)}}

/* Header */
.top{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  height: 72px;
}

.top .spacer{width:44px}

.brand{
  display:flex;
  align-items:center;
  justify-content:center;
  min-height: 44px;
}

.theme-toggle{
  position:absolute;
  left: 6px;
  top: 6px;
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: var(--control);
  box-shadow: var(--control-shadow);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform var(--t-fast) ease, background var(--t) ease, box-shadow var(--t) ease;
}

.theme-toggle:active{transform: translateY(1px) scale(0.99)}

/* Icons */
.icon{width:20px;height:20px;display:inline-block}
svg.icon path, svg.icon line, svg.icon circle{stroke: currentColor !important;}

/* Search */
.search-row{display:flex;align-items:center;gap: 10px;}
.search-wrap{flex:1;position:relative}

.search{
  width:100%;
  height: 46px;
  border-radius: 22px;
  border: 1px solid var(--line);
  background: var(--surface-dim);
  padding: 0 14px;
  outline:none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.18);
  backdrop-filter: blur(10px);
  transition: border-color var(--t) ease, background var(--t) ease;
}

.search::placeholder{color: var(--muted)}
.search:focus{border-color: rgba(124,58,237,0.35); background: var(--surface)}

.voice{
  width: 46px;
  height: 46px;
  border-radius: 16px;
  border: 1px solid var(--line);
  background: var(--control);
  box-shadow: var(--control-shadow);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform var(--t-fast) ease;
}

.voice:active{transform: translateY(1px) scale(0.99)}

/* Content containers */
.content{flex: 1;}

/* Carousel */
.carousel-wrap{
  position:relative;
  border-radius: var(--radius-xl);
  overflow:hidden;
  height: 180px;
  box-shadow: var(--card-shadow);
  border: 1px solid var(--line);
  background: var(--card);
}

.carousel{
  display:flex;
  height:100%;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
  scroll-behavior:smooth;
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.carousel::-webkit-scrollbar{display:none}
.slide{min-width:100%;height:100%;scroll-snap-align:center}
.slide img{width:100%;height:100%;object-fit:cover;display:block}

.carousel-btn{
  position:absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 46px;
  height: 46px;
  border-radius: 16px;
  border: 1px solid var(--line);
  background: var(--control);
  box-shadow: var(--control-shadow);
  cursor:pointer;
  z-index: 2;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform var(--t-fast) ease;
}

.carousel-btn.left{left: 10px}
.carousel-btn.right{right: 10px}
.carousel-btn:active{transform: translateY(-50%) scale(0.98)}

.dots{
  position:absolute;
  left: 50%;
  bottom: 10px;
  transform: translateX(-50%);
  display:flex;
  gap: 8px;
  z-index: 2;
}

.dots .dot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(255,255,255,0.58);
  border: 1px solid rgba(0,0,0,0.08);
}

.theme-dark .dots .dot{border-color: rgba(255,255,255,0.10)}
.dots .dot.active{background: rgba(255,255,255,0.95)}

/* Categories */
.categories-wrap{padding: 6px 0 6px}
.categories{
  display:flex;
  gap: 10px;
  padding: 4px 2px 6px;
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  scrollbar-width: none;
}
.categories::-webkit-scrollbar{display:none}

.pill{
  flex: 0 0 auto;
  border: 1px solid var(--line);
  background: var(--pill);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 700;
  box-shadow: 0 10px 24px rgba(10,20,40,0.10);
  cursor:pointer;
  transition: transform var(--t-fast) ease, background var(--t) ease;
}

.pill:active{transform: translateY(1px)}
.pill.active{background: var(--pill-active)}

/* Product grid */
.grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
  padding: 4px 0 12px;
}

/* Card entrance */
.card-wrap{
  opacity: 0;
  transform: translateY(16px) scale(0.985);
  transition: transform 420ms var(--ease), opacity 320ms ease;
  will-change: transform, opacity;
}
.card-wrap.entered{opacity:1;transform:none}

.card{
  position:relative;
  overflow:hidden;
  border-radius: 20px;
  border: 1px solid var(--line);
  background: var(--card);
  box-shadow: var(--card-shadow);
  min-height: 320px;
  display:flex;
  flex-direction:column;
}

.card .image{
  position:relative;
  background: var(--card-image-bg);
  width: 100%;
  aspect-ratio: 1 / 1;
  overflow:hidden;
}

.card .image img{
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
  opacity: 0;
  transition: opacity 360ms ease;
}

.card .image img.loaded{opacity: 1}

.card .footer, .card .card-info{
  padding: 12px 12px 12px;
  display:flex;
  flex-direction:column;
  gap: 6px;
  flex: 1;
}

.price{font-weight: 900;font-size: 18px;letter-spacing: -0.02em;color: var(--accent);}

.title{
  font-size: 13px;
  line-height: 1.3;
  color: var(--muted);
  display:-webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow:hidden;
}

.buy{
  margin-top: auto;
  height: 40px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.72));
  font-weight: 800;
  cursor:pointer;
  box-shadow: 0 10px 24px rgba(10,20,40,0.10);
  transition: transform var(--t-fast) ease;
}

.theme-dark .buy{background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04))}
.buy:active{transform: translateY(1px) scale(0.99)}

/* Skeleton shimmer */
@keyframes skeleton-loading{0%{background-position:-1200px 0}100%{background-position:1200px 0}}

.card .image.skeleton{
  background: linear-gradient(90deg,
    rgba(200,200,200,0.22) 25%,
    rgba(220,220,220,0.42) 50%,
    rgba(200,200,200,0.22) 75%
  );
  background-size: 1200px 100%;
  animation: skeleton-loading 1.35s infinite;
}

.theme-dark .card .image.skeleton{
  background: linear-gradient(90deg,
    rgba(255,255,255,0.06) 25%,
    rgba(255,255,255,0.10) 50%,
    rgba(255,255,255,0.06) 75%
  );
}

/* Favorite button overlay */
.fav-btn{
  position:absolute;
  top: 10px;
  right: 10px;
  width: 42px;
  height: 42px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,0.92);
  box-shadow: 0 14px 26px rgba(10,20,40,0.18);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index: 2;
  transition: transform var(--t-fast) ease, background var(--t) ease;
  color: rgba(15,17,21,0.78);
}

.theme-dark .fav-btn{background: rgba(2,10,32,0.72);color: rgba(246,247,251,0.86);}

.fav-btn svg{width: 20px; height: 20px}
.fav-btn svg path{fill: transparent !important; stroke-width: 1.8}

.fav-btn.active{background: rgba(255,45,85,0.12);color: var(--accent);border-color: rgba(255,45,85,0.22);}

.fav-btn.active svg path{fill: currentColor !important; stroke: currentColor !important}
.fav-btn:active{transform: translateY(1px) scale(0.99)}

/* Tabs */
.tabbar{
  position:fixed;
  left: var(--gutter);
  right: var(--gutter);
  bottom: calc(14px + env(safe-area-inset-bottom, 0px));
  height: var(--tabbar-h);
  border-radius: 26px;
  border: 1px solid var(--line);
  background: var(--surface-strong);
  box-shadow: 0 18px 50px rgba(10,20,40,0.18);
  display:flex;
  align-items:center;
  justify-content:space-around;
  padding: 8px 10px;
  z-index: 9999;
  backdrop-filter: blur(10px);
}

.theme-dark .tabbar{background: rgba(2,10,32,0.72)}

.tab{
  flex:1;
  border:0;
  background: transparent;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 6px;
  padding: 8px 6px;
  border-radius: 18px;
  color: rgba(15,17,21,0.62);
  transition: transform var(--t-fast) ease, background var(--t) ease, color var(--t) ease;
}

.theme-dark .tab{color: rgba(246,247,251,0.62)}

.tab-icon{width: 22px; height: 22px}

.tab .tab-icon path, .tab .tab-icon circle{fill: none !important;stroke: currentColor !important;stroke-width: 1.8;}

.tab span{font-size: 12px; font-weight: 700}
.tab.active{background: var(--pill-active);color: var(--text);}

/* Favorites header */
.favorites-header{padding: 10px 2px 6px}
.favorites-pill{border: 1px solid var(--line);background: var(--card);border-radius: 999px;padding: 14px 22px;font-size: 18px;font-weight: 900;box-shadow: var(--card-shadow);}

/* Product modal (view-product) */
#view-product{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index: 99999;
  background: rgba(0,0,0,0.45);
  padding: 18px;
  padding-bottom: calc(18px + env(safe-area-inset-bottom, 0px));
}

.product-wrap{width:100%;max-width: 980px}

.product-card{
  width:100%;
  max-height: calc(100dvh - 80px);
  display:flex;
  flex-direction:column;
  border-radius: var(--radius-lg);
  border: 1px solid var(--line);
  overflow:hidden;
  background: var(--card);
  box-shadow: var(--card-shadow);
}

.product-image img{width:100%;height: 260px;object-fit: cover;display:block;background: var(--card-image-bg)}

.product-body{padding: 16px 14px 18px;overflow:auto;-webkit-overflow-scrolling: touch;max-height: calc(100dvh - 420px);}

.product-price{font-weight:900;font-size: 20px;color: var(--accent);margin-bottom: 8px}
.product-title{font-weight: 800;font-size: 16px;margin-bottom: 10px}
.product-desc{color: var(--muted);line-height: 1.5;white-space: pre-wrap;margin-bottom: 12px}
.product-colors{color: var(--muted);font-size: 14px;margin-bottom: 14px}

.product-actions{position: sticky;bottom: 0;display:flex;gap: 10px;padding: 12px 14px;background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.06));backdrop-filter: blur(8px);}
.theme-dark .product-actions{background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.20))}

.fav-pill, .buy-pill{flex: 1;height: 44px;border-radius: 999px;border: 1px solid var(--line);font-weight: 900;cursor:pointer;background: var(--control);transition: transform var(--t-fast) ease;}
.fav-pill:active, .buy-pill:active{transform: translateY(1px) scale(0.99)}
.fav-pill.active{border-color: rgba(255,45,85,0.22);background: rgba(255,45,85,0.10);color: var(--accent);}

/* Back/close button */
.icon-btn{width: 44px;height: 44px;border-radius: 14px;border: 1px solid var(--line);background: var(--control);box-shadow: var(--control-shadow);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;}
#product-close{position:absolute;left: 12px;top: 12px;z-index: 10}

/* Auth modal */
.auth-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index: 200;background: rgba(0,0,0,0.12);transition: background var(--t) ease;}
.auth-modal[aria-hidden="true"]{display:none}
.auth-modal.open{background: rgba(0,0,0,0.22)}

.auth-card{width: 92%;max-width: 520px;border-radius: 24px;border: 1px solid var(--line);background: var(--card);box-shadow: var(--card-shadow);padding: 14px;transform: translateY(10px) scale(0.985);opacity: 0;transition: transform 260ms var(--ease), opacity 240ms ease;}
.auth-modal.open .auth-card{transform:none;opacity: 1}

.auth-note{border: 1px solid var(--line);background: var(--surface);padding: 14px;border-radius: 18px}

.auth-tabs{display:flex;gap: 10px;padding: 10px 4px}
.auth-tab{flex: 1;height: 44px;border-radius: 999px;border: 1px solid var(--line);background: var(--control);font-weight: 900;cursor:pointer;transition: transform var(--t-fast) ease, background var(--t) ease;}
.auth-tab.active{background: rgba(15,17,21,0.92); color: #fff}
.theme-dark .auth-tab.active{background: rgba(255,255,255,0.92); color: #081218}

.primary-cta{display:block;width:100%;height: 46px;border-radius: 999px;border: 0;background: linear-gradient(180deg, rgba(124,58,237,0.95), rgba(124,58,237,0.80));color: #fff;font-weight: 900;cursor:pointer;box-shadow: 0 16px 34px rgba(124,58,237,0.22);}

/* Blurred background when modal open */
.app.blurred{filter: blur(4px) saturate(0.95);transition:filter 180ms ease;pointer-events:none;user-select:none}

/* Verify modal (shares auth-card) */
.verify-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index: 200;background: rgba(0,0,0,0.12);}
.verify-modal[aria-hidden="true"]{display:none}
.verify-modal.open{background: rgba(0,0,0,0.22)}
.verify-modal.open .auth-card{transform:none;opacity: 1}

/* Profile */
.profile-wrap{padding: 6px 2px}
.profile-header{padding: 4px 0}

.profile-content{border: 1px solid var(--line);background: var(--card);border-radius: var(--radius-xl);box-shadow: var(--card-shadow);padding: 18px;min-height: calc(100dvh - 220px);}

.profile-field{display:flex;flex-direction:column;gap: 6px;margin-bottom: 16px}
.profile-field label{font-weight: 800;font-size: 13px;color: var(--muted)}
.profile-value{border: 1px solid var(--line);background: var(--surface);border-radius: 14px;padding: 12px}

.logout-btn{width: 100%;height: 46px;border-radius: 999px;border: 0;background: linear-gradient(180deg, rgba(255,45,85,0.92), rgba(255,45,85,0.76));color:#fff;font-weight: 900;cursor:pointer;box-shadow: 0 18px 40px rgba(255,45,85,0.20);}

/* Ads */
.ads-section{margin: 10px 0;padding: 14px;border-radius: 16px;border: 1px solid var(--line);background: var(--card);box-shadow: var(--card-shadow);min-height: 250px;display:flex;align-items:center;justify-content:center;}
.ads-section ins.adsbygoogle{display:block !important;width:100%;max-width:100%}

/* Footer */
.site-footer{margin-top: 18px;padding: 20px 0 8px;border-top: 1px solid var(--line);}

.site-footer-inner{display:flex;gap: 12px;align-items:flex-start;justify-content:space-between;flex-wrap: wrap;}
.footer-brand{font-weight: 900}
.footer-copy{font-size: 13px;color: var(--muted)}

.footer-right{display:flex;gap: 10px;flex-wrap: wrap}
.footer-link{text-decoration:none;font-weight: 800;font-size: 13px;padding: 8px 10px;border-radius: 999px;border: 1px solid var(--line);background: var(--pill);color: var(--muted);transition: transform var(--t-fast) ease;}
.footer-link:active{transform: translateY(1px)}

/* Cookie banner (used by index.html) */
.cookie-banner{position: fixed;left: 12px;right: 12px;top: 12px;z-index: 99999;padding: 12px;border-radius: 16px;border: 1px solid var(--line);background: var(--surface-strong);box-shadow: 0 18px 50px rgba(10,20,40,0.18);backdrop-filter: blur(10px);display:none;}
.cookie-banner__row{display:flex;align-items:flex-start;gap: 12px}
.cookie-banner__text{flex:1;font-size: 14px;line-height: 1.35;color: var(--text)}
.cookie-banner__actions{display:flex;gap: 8px;flex-wrap: wrap}
.cookie-banner__btn{height: 38px;padding: 0 12px;border-radius: 12px;border: 1px solid var(--line);background: var(--control);font-weight: 900;cursor:pointer;}

.cookie-banner__btn.secondary{background: rgba(15,17,21,0.06)}
.theme-dark .cookie-banner__btn.secondary{background: rgba(255,255,255,0.06)}

/* Small screens */
@media (max-width: 360px){
  .carousel-wrap{height: 168px}
  .grid{gap: 10px}
  .card{min-height: 304px}
}

/* Bigger screens */
@media (min-width: 720px){
  :root{--app-max: 760px}
  .carousel-wrap{height: 260px}
  .grid{gap: 16px}
}


